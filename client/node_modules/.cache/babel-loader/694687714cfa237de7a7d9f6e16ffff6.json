{"ast":null,"code":"import { takeEvery, call, put } from 'redux-saga/effects';\nimport { SHOP_TYPES } from './shopTypes';\nimport { onSnapshot } from \"@firebase/firestore\";\nimport { collectionQueries, convertCollectionSnapshotMap } from \"../../Firebase/firebase.utils\";\nimport { fetchCollectionsFailure, fetchCollectionsSuccess } from './shopActions';\nimport { collection } from '@firebase/firestore';\nexport function* fetchCollectionAsync() {\n  console.log(\"I am fired\");\n  const subscribe = onSnapshot(collectionQueries, async querySnapshot => {\n    const collectionMap = convertCollectionSnapshotMap(querySnapshot);\n    put(fetchCollectionsSuccess(collectionMap));\n  } // (error) => dispatch(fetchCollectionsFailure(error.message))\n  );\n}\nexport function* fetchCollectionStart() {\n  yield takeEvery(SHOP_TYPES.FETCH_COLLECTIONS_START, fetchCollectionAsync);\n}","map":{"version":3,"sources":["/home/omega/Documents/React-Clothing-Store/src/Redux/Shop/shopSaga.js"],"names":["takeEvery","call","put","SHOP_TYPES","onSnapshot","collectionQueries","convertCollectionSnapshotMap","fetchCollectionsFailure","fetchCollectionsSuccess","collection","fetchCollectionAsync","console","log","subscribe","querySnapshot","collectionMap","fetchCollectionStart","FETCH_COLLECTIONS_START"],"mappings":"AAAA,SAAQA,SAAR,EAAkBC,IAAlB,EAAuBC,GAAvB,QAAiC,oBAAjC;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,SACIC,iBADJ,EAEIC,4BAFJ,QAGS,+BAHT;AAKA,SAASC,uBAAT,EAAiCC,uBAAjC,QAAgE,eAAhE;AACA,SAASC,UAAT,QAA2B,qBAA3B;AAEA,OAAO,UAAUC,oBAAV,GAAgC;AACnCC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AAEA,QAAMC,SAAS,GAAGT,UAAU,CACxBC,iBADwB,EAExB,MAAOS,aAAP,IAAyB;AACvB,UAAMC,aAAa,GAAET,4BAA4B,CAACQ,aAAD,CAAjD;AACEZ,IAAAA,GAAG,CAACM,uBAAuB,CAACO,aAAD,CAAxB,CAAH;AACH,GALuB,CAMxB;AANwB,GAA5B;AAQH;AAGD,OAAO,UAAUC,oBAAV,GAAgC;AACnC,QAAMhB,SAAS,CAACG,UAAU,CAACc,uBAAZ,EAAoCP,oBAApC,CAAf;AACH","sourcesContent":["import {takeEvery,call,put} from 'redux-saga/effects';\nimport { SHOP_TYPES } from './shopTypes';\nimport { onSnapshot } from \"@firebase/firestore\";\nimport {\n    collectionQueries,\n    convertCollectionSnapshotMap,\n  } from \"../../Firebase/firebase.utils\";\n\nimport { fetchCollectionsFailure,fetchCollectionsSuccess } from './shopActions';\nimport { collection } from '@firebase/firestore';\n\nexport function* fetchCollectionAsync(){\n    console.log(\"I am fired\")\n\n    const subscribe = onSnapshot(\n        collectionQueries,\n        async (querySnapshot) => {\n          const collectionMap =convertCollectionSnapshotMap(querySnapshot);\n            put(fetchCollectionsSuccess(collectionMap))\n        },\n        // (error) => dispatch(fetchCollectionsFailure(error.message))\n      ); \n}\n\n\nexport function* fetchCollectionStart(){\n    yield takeEvery(SHOP_TYPES.FETCH_COLLECTIONS_START,fetchCollectionAsync)\n}"]},"metadata":{},"sourceType":"module"}