{"ast":null,"code":"import { takeEvery, call, put } from 'redux-saga/effects';\nimport { SHOP_TYPES } from './shopTypes';\nimport { collectionQueries, convertCollectionSnapshotMap } from \"../../Firebase/firebase.utils\";\nimport { fetchCollectionsFailure, fetchCollectionsSuccess } from './shopActions';\nimport { collection } from '@firebase/firestore';\nexport function* fetchCollectionAsync() {\n  console.log(\"I am fired\");\n  const subscribe = onSnapshot(collectionQueries, async querySnapshot => {\n    const collectionMap = convertCollectionSnapshotMap(querySnapshot);\n    put(fetchCollectionsSuccess(collectionMap));\n  }, error => dispatch(fetchCollectionsFailure(error.message)));\n}\nexport function* fetchCollectionStart() {\n  yield takeEvery(SHOP_TYPES.FETCH_COLLECTIONS_START, fetchCollectionAsync);\n}","map":{"version":3,"sources":["/home/omega/Documents/React-Clothing-Store/src/Redux/Shop/shopSaga.js"],"names":["takeEvery","call","put","SHOP_TYPES","collectionQueries","convertCollectionSnapshotMap","fetchCollectionsFailure","fetchCollectionsSuccess","collection","fetchCollectionAsync","console","log","subscribe","onSnapshot","querySnapshot","collectionMap","error","dispatch","message","fetchCollectionStart","FETCH_COLLECTIONS_START"],"mappings":"AAAA,SAAQA,SAAR,EAAkBC,IAAlB,EAAuBC,GAAvB,QAAiC,oBAAjC;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SACIC,iBADJ,EAEIC,4BAFJ,QAGS,+BAHT;AAKA,SAASC,uBAAT,EAAiCC,uBAAjC,QAAgE,eAAhE;AACA,SAASC,UAAT,QAA2B,qBAA3B;AAEA,OAAO,UAAUC,oBAAV,GAAgC;AACnCC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AAEA,QAAMC,SAAS,GAAGC,UAAU,CACxBT,iBADwB,EAExB,MAAOU,aAAP,IAAyB;AACvB,UAAMC,aAAa,GAAEV,4BAA4B,CAACS,aAAD,CAAjD;AACEZ,IAAAA,GAAG,CAACK,uBAAuB,CAACQ,aAAD,CAAxB,CAAH;AACH,GALuB,EAMvBC,KAAD,IAAWC,QAAQ,CAACX,uBAAuB,CAACU,KAAK,CAACE,OAAP,CAAxB,CANK,CAA5B;AAQH;AAGD,OAAO,UAAUC,oBAAV,GAAgC;AACnC,QAAMnB,SAAS,CAACG,UAAU,CAACiB,uBAAZ,EAAoCX,oBAApC,CAAf;AACH","sourcesContent":["import {takeEvery,call,put} from 'redux-saga/effects';\nimport { SHOP_TYPES } from './shopTypes';\nimport {\n    collectionQueries,\n    convertCollectionSnapshotMap,\n  } from \"../../Firebase/firebase.utils\";\n\nimport { fetchCollectionsFailure,fetchCollectionsSuccess } from './shopActions';\nimport { collection } from '@firebase/firestore';\n\nexport function* fetchCollectionAsync(){\n    console.log(\"I am fired\")\n\n    const subscribe = onSnapshot(\n        collectionQueries,\n        async (querySnapshot) => {\n          const collectionMap =convertCollectionSnapshotMap(querySnapshot);\n            put(fetchCollectionsSuccess(collectionMap))\n        },\n        (error) => dispatch(fetchCollectionsFailure(error.message))\n      ); \n}\n\n\nexport function* fetchCollectionStart(){\n    yield takeEvery(SHOP_TYPES.FETCH_COLLECTIONS_START,fetchCollectionAsync)\n}"]},"metadata":{},"sourceType":"module"}