{"ast":null,"code":"var _jsxFileName = \"/home/omega/Documents/React-Clothing-Store/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport React, { useEffect } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { createStructuredSelector } from \"reselect\";\nimport Homepage from \"./Pages/Homepage/Homepage\";\nimport Shop from \"./Pages/Shop/Shop\";\nimport LoginAndRegister from \"./Pages/LoginAndRegister/LoginAndRegister\";\nimport { Header } from \"./Components\";\nimport Checkout from \"./Pages/Checkout/Checkout\";\nimport { connect } from \"react-redux\";\nimport { auth } from \"./Firebase/firebase.utils\";\nimport { createUserProfileDocument, getUserData, addCollectionAndDocuments } from \"./Firebase/firebase.utils\";\nimport { selectCurrenUser } from \"./Redux/User/selector\";\nimport { selectCollectionForPreview } from './Redux/Shop/shopSelector';\nimport { SET_CURRENT_USER } from \"./Redux/User/userActions\";\nimport withSample from \"./HOCs/withSample/withSample\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App(_ref) {\n  _s();\n\n  let {\n    SET_CURRENT_USER,\n    currentUser,\n    collectionsArray\n  } = _ref;\n  useEffect(() => {\n    var unsubscribe = auth.onAuthStateChanged(async googleUserObject => {\n      if (googleUserObject) {\n        const userRef = await createUserProfileDocument(googleUserObject);\n        const userSnapshot = await getUserData(userRef);\n        console.log(userSnapshot);\n        SET_CURRENT_USER({\n          id: userSnapshot.id,\n          ...userSnapshot\n        });\n      }\n    });\n    addCollectionAndDocuments('collections', collectionsArray);\n    return () => {\n      unsubscribe(); // userSnapshot()\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        component: Homepage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/shop\",\n        component: Shop\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/checkout\",\n        component: Checkout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/signin\",\n        render: () => currentUser ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 63\n        }, this) : /*#__PURE__*/_jsxDEV(LoginAndRegister, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 85\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = App;\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrenUser,\n  collectionsArray: selectCollectionForPreview\n});\n\nconst mapDispatchToProps = dispatch => ({\n  SET_CURRENT_USER: user => dispatch(SET_CURRENT_USER(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/omega/Documents/React-Clothing-Store/src/App.js"],"names":["React","useEffect","Route","Switch","Redirect","createStructuredSelector","Homepage","Shop","LoginAndRegister","Header","Checkout","connect","auth","createUserProfileDocument","getUserData","addCollectionAndDocuments","selectCurrenUser","selectCollectionForPreview","SET_CURRENT_USER","withSample","App","currentUser","collectionsArray","unsubscribe","onAuthStateChanged","googleUserObject","userRef","userSnapshot","console","log","id","mapStateToProps","mapDispatchToProps","dispatch","user"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport React, {useEffect } from \"react\";\nimport { Route, Switch,Redirect } from \"react-router-dom\";\nimport { createStructuredSelector } from \"reselect\";\nimport Homepage from \"./Pages/Homepage/Homepage\";\nimport Shop from \"./Pages/Shop/Shop\";\nimport LoginAndRegister from \"./Pages/LoginAndRegister/LoginAndRegister\";\nimport { Header } from \"./Components\";\nimport Checkout from \"./Pages/Checkout/Checkout\";\nimport { connect } from \"react-redux\";\nimport { auth } from \"./Firebase/firebase.utils\";\nimport { createUserProfileDocument,getUserData,addCollectionAndDocuments } from \"./Firebase/firebase.utils\";\nimport { selectCurrenUser } from \"./Redux/User/selector\";\nimport {selectCollectionForPreview} from './Redux/Shop/shopSelector'\n\n\nimport { SET_CURRENT_USER } from \"./Redux/User/userActions\";\n\nimport withSample from \"./HOCs/withSample/withSample\";\n\n\nfunction App({SET_CURRENT_USER,currentUser,collectionsArray}) {\n \n  useEffect(()=>{\n    \n    var unsubscribe=auth.onAuthStateChanged(async googleUserObject=>{\n      if(googleUserObject) {\n        const userRef = await createUserProfileDocument(googleUserObject);\n        const userSnapshot= await getUserData(userRef)\n        console.log(userSnapshot)\n        SET_CURRENT_USER({\n          id:userSnapshot.id,\n          ...userSnapshot\n        })\n\n      }\n\n    \n    })\n    addCollectionAndDocuments('collections',collectionsArray)\n\n    return ()=>{\n      unsubscribe()\n      // userSnapshot()\n    }\n  },[])\n\n  return (\n    <div className=\"App\">\n     \n      <Header />\n      {/* <div className=\"\">{currentUser.displayName}</div> */}\n      <Switch>\n        <Route exact path=\"/\" component={Homepage} />\n        <Route path=\"/shop\" component={Shop} />\n        <Route exact path=\"/checkout\" component={Checkout} />\n        <Route exact path=\"/signin\" render={()=>currentUser? (<Redirect to='/' />):(<LoginAndRegister />)} />\n\n      </Switch>\n      {/* <Homepage /> */}\n    </div>\n  );\n}\n\nconst mapStateToProps=createStructuredSelector({\n  currentUser:selectCurrenUser,\n  collectionsArray:selectCollectionForPreview\n})\n\nconst mapDispatchToProps=dispatch=>({\n  SET_CURRENT_USER:user=>dispatch(SET_CURRENT_USER(user))\n})\n\nexport default connect(mapStateToProps,mapDispatchToProps) (App);\n"]},"metadata":{},"sourceType":"module"}