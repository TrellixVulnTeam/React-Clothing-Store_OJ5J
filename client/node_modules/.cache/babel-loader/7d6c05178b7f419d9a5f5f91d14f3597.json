{"ast":null,"code":"import { takeEvery } from 'redux-saga/effects';\nimport { SHOP_TYPES } from './shopTypes';\nimport { collectionQueries, convertCollectionSnapshotMap } from \"../../Firebase/firebase.utils\";\nimport { fetchCollectionsFailure, fetchCo } from './shopActions';\nexport function* fetchCollectionAsync() {\n  console.log(\"I am fired\");\n  const subscribe = onSnapshot(collectionQueries, async querySnapshot => {\n    const collectionMap = convertCollectionSnapshotMap(querySnapshot);\n    dispatch(fetchCollectionsSuccess(collectionMap));\n  }, error => dispatch(fetchCollectionsFailure(error.message)));\n}\nexport function* fetchCollectionStart() {\n  yield takeEvery(SHOP_TYPES.FETCH_COLLECTIONS_START, fetchCollectionAsync);\n}","map":{"version":3,"sources":["/home/omega/Documents/React-Clothing-Store/src/Redux/Shop/shopSaga.js"],"names":["takeEvery","SHOP_TYPES","collectionQueries","convertCollectionSnapshotMap","fetchCollectionsFailure","fetchCo","fetchCollectionAsync","console","log","subscribe","onSnapshot","querySnapshot","collectionMap","dispatch","fetchCollectionsSuccess","error","message","fetchCollectionStart","FETCH_COLLECTIONS_START"],"mappings":"AAAA,SAAQA,SAAR,QAAwB,oBAAxB;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SACIC,iBADJ,EAEIC,4BAFJ,QAGS,+BAHT;AAKA,SAASC,uBAAT,EAAiCC,OAAjC,QAAgD,eAAhD;AAEA,OAAO,UAAUC,oBAAV,GAAgC;AACnCC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AAEA,QAAMC,SAAS,GAAGC,UAAU,CACxBR,iBADwB,EAExB,MAAOS,aAAP,IAAyB;AACvB,UAAMC,aAAa,GAAGT,4BAA4B,CAACQ,aAAD,CAAlD;AACAE,IAAAA,QAAQ,CAACC,uBAAuB,CAACF,aAAD,CAAxB,CAAR;AACD,GALuB,EAMvBG,KAAD,IAAWF,QAAQ,CAACT,uBAAuB,CAACW,KAAK,CAACC,OAAP,CAAxB,CANK,CAA5B;AAQH;AAED,OAAO,UAAUC,oBAAV,GAAgC;AACnC,QAAMjB,SAAS,CAACC,UAAU,CAACiB,uBAAZ,EAAoCZ,oBAApC,CAAf;AACH","sourcesContent":["import {takeEvery} from 'redux-saga/effects';\nimport { SHOP_TYPES } from './shopTypes';\nimport {\n    collectionQueries,\n    convertCollectionSnapshotMap,\n  } from \"../../Firebase/firebase.utils\";\n\nimport { fetchCollectionsFailure,fetchCo } from './shopActions';\n\nexport function* fetchCollectionAsync(){\n    console.log(\"I am fired\")\n\n    const subscribe = onSnapshot(\n        collectionQueries,\n        async (querySnapshot) => {\n          const collectionMap = convertCollectionSnapshotMap(querySnapshot);\n          dispatch(fetchCollectionsSuccess(collectionMap));\n        },\n        (error) => dispatch(fetchCollectionsFailure(error.message))\n      ); \n}\n\nexport function* fetchCollectionStart(){\n    yield takeEvery(SHOP_TYPES.FETCH_COLLECTIONS_START,fetchCollectionAsync)\n}"]},"metadata":{},"sourceType":"module"}